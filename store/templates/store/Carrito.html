{% load static %}




<!DOCTYPE html>
<html lang="es">

<head>
  <title>UFO GROWSHOP</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- mi CSS -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>

<body>



  <script src="https://www.paypal.com/sdk/js?client-id=AbXOXyKFJkvSeYf1rCrwu_u_FLeMbi8mn79ffmsSkYvhX1QOkMQ7Nt2pPepGM9YojK31FFO-8QnzHnfo&currency=USD"></script>






  <!-- header -->
  <header class="bg-light">
    <div class="container">
      <div class="row justify-content-between align-items-center">
        <div class="col-auto">
          <a href="{% url 'index' %}">
            <img src="{% static 'img/icono.png' %}">
          </a>
        </div>
        <div class="col-auto">
          <a href="{% url 'login' %}" class="btn btn-primary mr-3">Iniciar sesión</a>
          <a href="{% url 'carrito' %}" class="btn btn-secondary">Carrito</a>
        </div>
      </div>
    </div>
  </header>


  <!-- Barra de navegación -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'ofertas' %}">Ofertas</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'semillas' %}">Semillas</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'parafernalia' %}">Parafernalia</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'cultivo' %}">Cultivo</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'contacto' %}">Contacto</a>
        </li>
      </ul>
      <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" placeholder="Buscar" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Buscar</button>
      </form>
    </div>
  </nav>
<!-- 
KRRITO -->


  <div class="container">
    <div class="row">
      <div class="col-md-8 mx-auto">
        <div class="card1">
          <div class="card-header bg-primary text-white">
            <h5 class="card-title mb-0">CARRITO</h5>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th scope="col">NOMBRE</th>
                    <th scope="col">PRECIO</th>
                    <th scope="col">CANTIDAD</th>
                  </tr>
                </thead>
                <tbody>
                  {% if request.session.carrito.items %}
                  {% for key, value in request.session.carrito.items %}
                  <tr>
                    <td>{{value.nombre}}</td>
                    <td>{{value.precio}}</td>
                    <td>{{value.cantidad}}
                      <a href="{% url 'sum' value.producto_id %}" class="badge btn btn-dark badge-dark">+</a>
                      <a href="{% url 'Sub' value.producto_id %}" class="badge btn btn-dark badge-dark">-</a>
                    </td>
                  </tr>
                  {% endfor %}
                  {% else %}
                  <tr>
                    <td colspan="3">
                      <div class="alert alert-danger text-center"> Sin Productos </div>
                    </td>
                  </tr>
                  {% endif %}
                  <tr>
                    <th scope="row">Total:</th>
                    <td colspan="2">$ {{total_carrito}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="row text-center">
    <div class="col-6"><a href="{% url 'CLS' %}" class="btn btn-danger">Limpiar</a></div>
    <div id="paypal-button-container"></div>
   
</div>
    

 


  <!-- Footer -->
  <footer class="bg-dark text-light">
    <div class="container py-3">
      <div class="row">
        <div class="col-md-6">
          <h5>Información de contacto</h5>
          <p>¡Visítanos en nuestra tienda física o contáctanos a través de nuestras redes sociales!</p>
          <ul class="list-unstyled">
            <li><i class="bi bi-geo-alt-fill me-2"></i> Dirección: Calle Falsa 123, Santiago</li>
            <li><i class="bi bi-telephone-fill me-2"></i> Teléfono: +56 9 1234 5678</li>
            <li><i class="bi bi-envelope-fill me-2"></i> Correo electrónico: info@growshop.com</li>
          </ul>
        </div>
        <div class="col-md-6">
          <h5>Síguenos en nuestras redes</h5>
          <ul class="list-unstyled">
            <li><a href="#"><i class="bi bi-facebook me-2"></i>Facebook</a></li>
            <li><a href="#"><i class="bi bi-instagram me-2"></i>Instagram</a></li>
            <li><a href="#"><i class="bi bi-twitter me-2"></i>Twitter</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      <p>Derechos reservados &copy; 2023 - Growshop.com</p>
    </div>
  </footer>


  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Popper.js -->
  <script src="https://unpkg.com/@popperjs/core@2.10.1/dist/umd/popper.min.js"></script>

  <!-- Bootstrap JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>

  <script>
    paypal.Buttons({
      createOrder: function(data, actions) {
        // Set up the transaction
        return actions.order.create({
          purchase_units: [{
            amount: {
              value: '{{ total_carrito }}'
            }
          }]
        });
      },
      onApprove: function(data, actions) {
        // Capture the funds from the transaction
        return actions.order.capture().then(function(details) {
          // Show a success message to the buyer
          alert('Transaction completed by ' + details.payer.name.given_name + '! Thank you for your purchase!');
          // Redirect to a success page
          window.location.href = "{% url 'index' %}";
        });
      }
    }).render('#paypal-button-container');
  </script>
  
  





</body>

</html>